<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image annotation</title>

    <!-- Loading Bootstrap -->
    <link href="../Flat-UI-master/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="../Flat-UI-master/css/flat-ui.css" rel="stylesheet">

    <link href="../css/base.css" rel="stylesheet">

    <link rel="shortcut icon" href="../Flat-UI-master/images/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->

  </head>
  <body>
  	<div id="container">
  		<div id="header">
  			<h2>Image annotation</h2>
  			<ol>
  				<li>Please click ALL image squares that contain a part of a head so that their frames turn to red.</li>
  				<ul>
  					<li>You can unselect a square by clicking it again. Its frame should turn to black.</li>
  					<li>A head is defined as the upper part of the human body, separated by a neck, not including a neck.</li>
					<li>Please select every square, even if it contains a tiny fraction of a human head.</li>
					<li>A head includes, for example, accesaries such as a hat, a cap, and glasses, hair, ears, and back views.</li>
  				</ul>
  				<li>When completed, please click the butten "Complete".</li>
  				<li>Please copy the text shown in the text box, and submit it to the crowdsourcing platform.</li>
  			</ol>
  		</div>
  		<div id="main">
  			<div id="images-wrapper" class="js-masonry" data-masonry-options='{"itemSelector": ".item" }' style="width: [WIDTH]px;">
			[ITEMS]
  			</div>
  		</div>
  		<div id="button-wrapper" class="row">
  			<div class="span3">
  				<button id="submission-button" class="btn btn-large btn-block btn-primary" type="button">Complete</button>
  			</div>
  		</div>
  		<div id="textarea-wrapper">
  			<textarea id="submission" rows="5"></textarea>
  			<div id="message">
  				<p>Please copy the text shown in the text box, and submit it to the crowdsourcing platform.</p>
  				<p id="start" style="visibility:hidden;"></p>
  			</div>
  		</div>
  	</div>

    <script src="../js/masonry.pkgd.min.js"></script>
    <script src="../js/jquery-1.10.2.min.js"></script>
  	<script>
  	    $(document).ready(function() {
  	    	var start = new Date();
  	    	var yy = start.getFullYear();
  	    	var mm = start.getMonth() + 1;
  	    	var dd = start.getDate();
  	    	var h = start.getHours();
  	    	var m = start.getMinutes();
  	    	var s = start.getSeconds();
  	    	var ms = start.getMilliseconds();
  	    	$("p#start").text(yy + "," + mm + "," + dd + "," + h + ',' + m + "," + s + "," + ms);
  	    	$("p#start").text(start.toString());
  	    });

  	    $("div.item").click(function() {
  	    	$(this).toggleClass('on');
  	    	$(this).toggleClass('off');
  	    });

  	    $("button#submission-button").click(function() {
  	    	var start = Date.parse($("p#start").text());
  	    	var now = new Date();
  	    	var diff = (now - start) / 1000;
  	    	var arr = [];
  	    	arr.push(diff);
  	    	$("div.item.on").each(function() {
  	    		arr.push($(this).attr("id"));
  	    	});
  	    	var str = arr.join(" ");
  	    	$("textarea#submission").val(str);
  	    });
  	</script>
  </body>
 </html>
