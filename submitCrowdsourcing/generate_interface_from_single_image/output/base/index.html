<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>画像判別</title>

    <!-- Loading Bootstrap -->
    <link href="../Flat-UI-master/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="../Flat-UI-master/css/flat-ui.css" rel="stylesheet">

    <link href="../css/base.css" rel="stylesheet">

    <link rel="shortcut icon" href="../Flat-UI-master/images/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->

  </head>
  <body>
  	<div id="container">
  		<div id="header">
  			<h2>画像判別</h2>
  			<ol>
  				<li>「人の頭部」または「人の頭部の一部」が写っているマスをすべてクリックして、マスの枠を赤色にしてください。</li>
  				<ul>
  					<li>間違えてクリックした場合は、もういちどマスをクリックすると元に戻ります。</li>
  					<li>「頭部」とは、人間の体のうち、首より上の部位とします。どんなに小さくても、頭部が写っているマスはクリックしてください。</li>
					<li>帽子やメガネなどのアクセサリ類、後ろ姿、髪の毛、耳なども選択してください。</li>
  				</ul>
  				<li>作業が完了したら「完了」ボタンを押してください</li>
  				<li>完了ボタンを押すとテキストボックスに文字列が表示されます。表示された文字列をコピーし、ランサーズの回答画面にペーストしてください。</li>
  			</ol>
  		</div>
  		<div id="main">
  			<div id="images-wrapper" class="js-masonry" data-masonry-options='{"itemSelector": ".item" }' style="width: [WIDTH]px;">
			[ITEMS]
  			</div>
  		</div>
  		<div id="button-wrapper" class="row">
  			<div class="span3">
  				<button id="submission-button" class="btn btn-large btn-block btn-primary" type="button">完了</button>
  			</div>
  		</div>
  		<div id="textarea-wrapper">
  			<textarea id="submission" rows="5"></textarea>
  			<div id="message">
  				<p>完了ボタンを押すと表示されるテキストボックス内の文字列を、ランサーズの作業画面に貼り付けてください</p>
  				<p id="start" style="visibility:hidden;"></p>
  			</div>
  		</div>
  	</div>

    <script src="../js/masonry.pkgd.min.js"></script>
    <script src="../js/jquery-1.10.2.min.js"></script>
  	<script>
  	    $(document).ready(function() {
  	    	var start = new Date();
  	    	var yy = start.getFullYear();
  	    	var mm = start.getMonth() + 1;
  	    	var dd = start.getDate();
  	    	var h = start.getHours();
  	    	var m = start.getMinutes();
  	    	var s = start.getSeconds();
  	    	var ms = start.getMilliseconds();
  	    	$("p#start").text(yy + "," + mm + "," + dd + "," + h + ',' + m + "," + s + "," + ms);
  	    	$("p#start").text(start.toString());
  	    });

  	    $("div.item").click(function() {
  	    	$(this).toggleClass('on');
  	    	$(this).toggleClass('off');
  	    });

  	    $("button#submission-button").click(function() {
  	    	var start = Date.parse($("p#start").text());
  	    	var now = new Date();
  	    	var diff = (now - start) / 1000;
  	    	var arr = [];
  	    	arr.push(diff);
  	    	$("div.item.on").each(function() {
  	    		arr.push($(this).attr("id"));
  	    	});
  	    	var str = arr.join(" ");
  	    	$("textarea#submission").val(str);
  	    });
  	</script>
  </body>
 </html>
